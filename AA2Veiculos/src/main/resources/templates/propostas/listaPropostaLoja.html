<html layout:decorate="~{layout}" xmlns:th="http://www.thymeleaf.org">
<head></head>
<body>
<section class="container my-3" layout:fragment="corpo">

    <div class="container" id="listagem">

        <div class="card shadow-sm mb-4">
            <div class="card-header d-flex align-items-center tertiary-bg text-white">
                <h5 class="mb-0 flex-grow-1" th:text="#{propostas.recebidas.titulo}">Propostas Recebidas</h5>
            </div>

            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-sm mb-0">
                        <thead class="thead-light">
                        <tr>
                            <th th:text="#{propostas.tabela.veiculo}">Veículo</th>
                            <th th:text="#{propostas.tabela.cliente}">Cliente</th>
                            <th th:text="#{propostas.tabela.valor}">Valor Proposta</th>
                            <th th:text="#{propostas.tabela.condicoes}">Condições Pagamento</th>
                            <th th:text="#{propostas.tabela.status}">Status</th>
                            <th th:text="#{propostas.tabela.acoes}">Ações</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="proposta : ${propostas}">
                            <td th:text="${proposta.veiculo.modelo} + ' - ' + ${proposta.veiculo.placa}">Modelo - ABC1234</td>
                            <td th:text="${proposta.cliente.nome}">Cliente X</td>
                            <td th:text="|R$ ${#numbers.formatDecimal(proposta.valorProposta, 2, 2, 'COMMA')}|">R$ 0,00</td>
                            <td th:text="${proposta.condicoesPagamento}">À vista</td>
                            <td th:text="${proposta.status}">ABERTO</td>
                            <td>
                                <a th:href="@{/propostas/aceitar/{id}(id=${proposta.id})}" class="btn btn-success btn-sm mb-1" th:text="#{propostas.botao.aceitar}">Aceitar</a>
                                <a th:href="@{/propostas/recusar/{id}(id=${proposta.id})}" class="btn btn-danger btn-sm" th:text="#{propostas.botao.recusar}">Recusar</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

</section>
</body>
</html>
